{"ast":null,"code":"export default {\n  name: 'HomePage',\n  data() {\n    return {\n      username: 'Guest',\n      nickname: 'Guest',\n      userAvatar: null,\n      avatarLoadError: false\n    };\n  },\n  computed: {\n    computed: {\n      greeting() {\n        const hour = new Date().getHours();\n        if (hour < 5) {\n          return '夜猫子';\n        } else if (hour < 12) {\n          return '早上好';\n        } else if (hour < 18) {\n          return '下午好';\n        } else {\n          return '晚上好';\n        }\n      },\n      avatarInitial() {\n        if (this.nickname) {\n          return this.nickname.charAt(0).toUpperCase();\n        }\n        return this.username.charAt(0).toUpperCase();\n      }\n    },\n    methods: {\n      handleAvatarError() {\n        this.avatarLoadError = true;\n        this.userAvatar = null; // 清空错误头像\n      }\n    },\n    mounted() {\n      console.log(this.$route.params);\n      this.username = this.$route.params.username || 'Guest';\n      this.nickname = this.$route.params.nickname || 'Guest';\n      this.userAvatar = this.$route.params.avatarUrl || null;\n    }\n  }\n};","map":{"version":3,"names":["name","data","username","nickname","userAvatar","avatarLoadError","computed","greeting","hour","Date","getHours","avatarInitial","charAt","toUpperCase","methods","handleAvatarError","mounted","console","log","$route","params","avatarUrl"],"sources":["src/views/Home.vue"],"sourcesContent":["<template>\n  <div class=\"background\">\n    <div class=\"navbar\">\n      <div class=\"user-menu\">\n\n        <div class=\"user-avatar\">\n          <!-- 头像加载成功时显示图片 -->\n          <img v-if=\"userAvatar\" :src=\"userAvatar\" alt=\"用户头像\" @error=\"handleAvatarError\" class=\"avatar-image\">\n\n          <!-- 头像为空时，显示文字头像 -->\n          <div v-else class=\"text-avatar\">\n            <div class=\"text-avatar-inner\">\n              {{ avatarInitial }}\n            </div>\n          </div>\n        </div>\n\n        <div class=\"user-name-text\">{{ greeting }}, {{ nickname }}!</div>\n\n        <div class=\"nav-tools\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#333\"\n            stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"feather feather-clock\">\n            <circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n            <polyline points=\"12 6 12 12 16 14\"></polyline>\n          </svg>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'HomePage',\n  data() {\n    return {\n      username: 'Guest',\n      nickname: 'Guest',\n      userAvatar: null,\n      avatarLoadError: false\n    }\n  },\n  computed: {\n    computed: {\n      greeting() {\n        const hour = new Date().getHours();\n        if (hour < 5) {\n          return '夜猫子';\n        } else if (hour < 12) {\n          return '早上好';\n        } else if (hour < 18) {\n          return '下午好';\n        } else {\n          return '晚上好';\n        }\n      },\n      avatarInitial() {\n        if (this.nickname) {\n          return this.nickname.charAt(0).toUpperCase()\n        }\n        return this.username.charAt(0).toUpperCase()\n      }\n    },\n    methods: {\n      handleAvatarError() {\n        this.avatarLoadError = true\n        this.userAvatar = null // 清空错误头像\n      }\n    },\n    mounted() {\n      console.log(this.$route.params);\n      this.username = this.$route.params.username || 'Guest';\n      this.nickname = this.$route.params.nickname || 'Guest';\n      this.userAvatar = this.$route.params.avatarUrl || null;\n    }\n  }\n}\n</script>\n\n<style scoped src=\"../components/css/Home.css\"></style>"],"mappings":"AAgCA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,QAAA;MACAC,UAAA;MACAC,eAAA;IACA;EACA;EACAC,QAAA;IACAA,QAAA;MACAC,SAAA;QACA,MAAAC,IAAA,OAAAC,IAAA,GAAAC,QAAA;QACA,IAAAF,IAAA;UACA;QACA,WAAAA,IAAA;UACA;QACA,WAAAA,IAAA;UACA;QACA;UACA;QACA;MACA;MACAG,cAAA;QACA,SAAAR,QAAA;UACA,YAAAA,QAAA,CAAAS,MAAA,IAAAC,WAAA;QACA;QACA,YAAAX,QAAA,CAAAU,MAAA,IAAAC,WAAA;MACA;IACA;IACAC,OAAA;MACAC,kBAAA;QACA,KAAAV,eAAA;QACA,KAAAD,UAAA;MACA;IACA;IACAY,QAAA;MACAC,OAAA,CAAAC,GAAA,MAAAC,MAAA,CAAAC,MAAA;MACA,KAAAlB,QAAA,QAAAiB,MAAA,CAAAC,MAAA,CAAAlB,QAAA;MACA,KAAAC,QAAA,QAAAgB,MAAA,CAAAC,MAAA,CAAAjB,QAAA;MACA,KAAAC,UAAA,QAAAe,MAAA,CAAAC,MAAA,CAAAC,SAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}